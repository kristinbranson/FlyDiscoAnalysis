reset_test_experiment_folder();

this_script_file_path = mfilename('fullpath') ;
this_script_folder_path = fileparts(this_script_file_path) ;
fly_disco_analysis_folder_path = fileparts(this_script_folder_path) ;

% experiment_folder_path = ...
%     fullfile(this_script_folder_path, ...
%              'analysis-test-folder', ...
%              '2019-12-18', ...
%              'emptysplit_20xUAS-ChrimsonRmVenusattp18_flyBowlMing_nopause_lengthofpersis_2min_10int_20191218T093239_2_avi_short') ;
experiment_folder_path = ...
    fullfile(fly_disco_analysis_folder_path, ...
             'analysis-test-folder', ...
             'SS36564_20XUAS_CsChrimson_mVenus_attP18_flyBowlMing_20200227_Continuous_2min_5int_20200107_20200229T132141') ;
% experiment_folder_path = ...
%     fullfile(this_script_folder_path, ...
%              'analysis-test-folder', ...
%              '2021-02-16', ...
%              'locomotionGtACR1_emptySplit24b_RigB_20210216T105603') ;
settings_folder_path = fullfile(fly_disco_analysis_folder_path, 'settings') ;

analysis_parameters = ...
        {'forcecompute',false,...
         'doautomaticchecksincoming',true,...
         'doflytracking',true,...
         'doregistration',true,...
         'doledonoffdetection',true,...
         'dotrackwings',true,...
         'dosexclassification',true,...
         'docomputeperframefeatures',true,...
         'docomputehoghofperframefeatures',false,...
         'dojaabadetect',true,...
         'docomputeperframestats',false,...
         'doplotperframestats',false,...
         'domakectraxresultsmovie',true,...
         'doextradiagnostics',false,...
         'doanalysisprotocol',true,...
         'doautomaticcheckscomplete',false } ;
    

fly_disco_analysis_pipeline_wrapper(experiment_folder_path, settings_folder_path, analysis_parameters) ;
