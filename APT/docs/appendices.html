<!DOCTYPE html>
<html>
<head>
<title>APT User Guide</title>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" 
href="styles/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" 
href="styles/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" 
href="styles/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" 
media="projection" href="styles/projection.css">

<style type="text/css">
strong.regular-font {
  font-family: Arial, Lucida Grande, sans-serif;
  font-style: italic;
  font-size: 0.9em;
}
</style>

</head>

<body>
<h1><a href="index.html">APT</a> User Guide</h1>

<h2> Appendices </h2>
 
<hr class="h2-divider">

<h2>Contents</h2>

<ul>
<li><a href="#Trk file contents">Trk file contents</a></li>
<li><a href="#Glossary">Glossary</a></li>



</ul>

<hr class="h2-divider">

<h2><a id="Trk file contents">Trk file contents</a></h2>

<p>Each .trk file contains the following variables, which can be loaded into matlab using the -mat flag:</p>
 
<p>pTrk (numpoints x numdimensions x numframes x numtargets) – Contains the position information for manually labeled points (OR tracked points?), unlabeled frames have NaN values. For example: if there are two labeled body points for a single target from a single viewpoint video with 10800 frames, then pTrk is 2x2x10800, where pTrk(1,1,15) is the x coordinate of the first point for frame 15, pTrk(1,2,10400) is the y coordinate of the first point for frame 10400.
 
<p>pTrkTS – TimeStamp at which the frames were labelled (or tracked) (-Inf for unlabeled/untracked frames)</p>
 
<p>pTrkTag – Occlusion data (numpoints x numframes x numtrx), 0=unoccluded and is the default, 1==occluded and is what you get using shift-click in Sequential labeling mode or the letter o when a point is selected in Template mode.</p>
 
<p>pTrkFrm (1 x 1-numframes) These are the frames labeling the 3rd dimension of pTrk (and 4th dimension of pTrkFull). In some cases a TrkFile can be generated where pTrk doesn't cover the whole movie, only a subset, in which case pTrkFrm tells you which frames are covered. The usual case though is that .pTrk covers the entire movie and then .pTrkFrm will be 1:totalNumFrames. Lists all frames in pTrk file including those without tracking data. </p>
 
<p>pTrkFull (numpoints x numdimensions x numreps x numframes)
numreps: the number of CPR 'replicates' or number of 'test shapes' that are propagated using the trained regressor cascade. Some central measure of this cloud of shapes is taken to be the single tracking result. In the param.yaml, this is TestInig:Nrep.</p>
 
<p>pTrkFullFT </p>

<p>pTrkiPt (size between 1 and numpoints), e.g. [1  2]. These are which points to use (i.e. will label the first dimension of pTrk).  This allows one to, for example, train/track using points {1, 3, 7}, even though there are 8 labeled points. In that case pTrkiPt will equal [1 3 7]. So if pTrkiPt is not [], then numel(pTrkiPt) should always equal size(pTrk,1).</p>

<p>pTrkInfo
Information about the tracker used, if applicable.  Empty in the case of manual labels.  
fields: paramFile, param</p>


<p>To delete tracks:
Use lObj.tracker.clearTrackingResults(); in the matlab command line to clear out current tracking results. 
If you change tracking parameters, or clear tracker for whatever reason your tracking results are supposed to automatically clear as well. </p>

<hr class="h2-divider">

<h2><a id="Glossary">Glossary</a></h2>


Glossary:
predicted frames: frames automatically generated by tracking

labeled frames: frames manually created or corrected by a human

<footer>
<hr class="h1-divider">
<center>
<a href="index.html">APT Documentation Home</a> | <a href="https://www.janelia.org/lab/branson-lab">Branson Lab</a> | <i>Last Updated June 5, 2018</i>
</center>
</footer>


</body>

